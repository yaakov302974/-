<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>×”×¦×”×¨×ª ×”×•×Ÿ â€” ×˜×•×¤×¡ ×œ×§×•×—</title>
<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700;900&family=Frank+Ruhl+Libre:wght@300;400;700&display=swap" rel="stylesheet">
<style>
  :root { --ink: #1a1a2e; --paper: #f5f0e8; --gold: #c9a84c; --gold-light: #e8d5a3; --deep: #0f3460; --accent: #e94560; --muted: #6b6b7b; --border: #d4c9b0; --success: #2d6a4f; --card: #fffdf7; }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Heebo', sans-serif; background: var(--paper); color: var(--ink); min-height: 100vh; background-image: radial-gradient(ellipse at 20% 50%, rgba(201,168,76,0.08) 0%, transparent 60%), radial-gradient(ellipse at 80% 20%, rgba(15,52,96,0.06) 0%, transparent 50%); }
  .header { background: var(--deep); padding: 40px 60px; position: relative; overflow: hidden; }
  .header-inner { max-width: 860px; margin: 0 auto; position: relative; z-index: 1; }
  .firm-name { font-family: 'Frank Ruhl Libre', serif; font-size: 13px; letter-spacing: 3px; color: var(--gold); margin-bottom: 12px; }
  .header h1 { font-family: 'Frank Ruhl Libre', serif; font-size: clamp(28px, 5vw, 44px); font-weight: 700; color: #fff; }
  .header h1 span { color: var(--gold); }
  .header-sub { color: rgba(255,255,255,0.6); font-size: 15px; margin-top: 12px; }
  .progress-bar { background: var(--deep); padding: 0 60px 24px; border-bottom: 1px solid rgba(201,168,76,0.3); }
  .progress-inner { max-width: 860px; margin: 0 auto; display: flex; gap: 6px; align-items: center; }
  .step-dot { width: 28px; height: 28px; border-radius: 50%; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; font-size: 11px; color: rgba(255,255,255,0.4); cursor: pointer; }
  .step-dot.active { background: var(--gold); border-color: var(--gold); color: var(--deep); font-weight: 700; }
  .step-line { flex: 1; height: 1px; background: rgba(255,255,255,0.15); }
  .main { max-width: 860px; margin: 0 auto; padding: 40px 20px 80px; }
  .section { display: none; animation: fadeSlide 0.4s ease; }
  .section.active { display: block; }
  @keyframes fadeSlide { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
  .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 28px; margin-bottom: 20px; }
  .field-group { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px; }
  .field { display: flex; flex-direction: column; gap: 6px; }
  .field label { font-size: 13px; font-weight: 500; }
  .field input, .field select, .field textarea { border: 1.5px solid var(--border); border-radius: 8px; padding: 10px; }
  .btn { padding: 12px 32px; border-radius: 8px; cursor: pointer; font-weight: 500; border: none; }
  .btn-primary { background: var(--deep); color: #fff; }
  .btn-submit { background: var(--gold); color: var(--deep); font-weight: 700; width: 100%; }
  .loading-overlay { display: none; position: fixed; inset: 0; background: rgba(255,255,255,0.8); z-index: 100; align-items: center; justify-content: center; }
  .loading-overlay.active { display: flex; }
</style>
</head>
<body>

<div class="loading-overlay" id="loadingOverlay">×©×•×œ×— × ×ª×•× ×™×...</div>

<div class="header">
  <div class="header-inner">
    <div class="firm-name">×××¡×œ× ×™×”×•×“×” â€” ×¨×•××™ ×—×©×‘×•×Ÿ</div>
    <h1>×˜×•×¤×¡ <span>×”×¦×”×¨×ª ×”×•×Ÿ</span></h1>
  </div>
</div>

<div class="main">
  <div class="year-badge">ğŸ“… ×©× ×ª ×”××¡: <select id="taxYear"><option selected>2024</option><option>2025</option></select></div>

  <div class="section active" id="section-0">
    <div class="card">
      <div class="field-group">
        <div class="field"><label>×©× ××œ× *</label><input type="text" id="name" required></div>
        <div class="field"><label>×ª×¢×•×“×ª ×–×”×•×ª *</label><input type="text" id="id_num" required></div>
      </div>
      <div class="field-group">
        <div class="field"><label>×˜×œ×¤×•×Ÿ *</label><input type="tel" id="phone" required></div>
        <div class="field"><label>×“×•×"×œ</label><input type="email" id="email"></div>
      </div>
      <div class="field"><label>×”×¢×¨×•×ª</label><textarea id="generalNotes"></textarea></div>
      <button class="btn btn-submit" style="margin-top:20px" onclick="submitForm()">âœ“ ×©×œ×— ×”×¦×”×¨×ª ×”×•×Ÿ</button>
    </div>
  </div>

  <div class="success-screen" id="successScreen" style="display:none; text-align:center; padding:50px;">
    <h2>âœ… × ×©×œ×— ×‘×”×¦×œ×—×”!</h2>
    <p>×”× ×ª×•× ×™× ×”×•×¤×™×¢×• ×‘×’×•×’×œ ×©×™×˜×¡ ×©×œ×š.</p>
  </div>
</div>

<script>
// ×”×—×œ×£ ×›××Ÿ ×œ×§×™×©×•×¨ ×©×§×™×‘×œ×ª ××”-Deploy ×‘×’×•×’×œ
const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzmPnaO6s4Oqwm5dadvvsxQnr8vExzJ1mOGmwsijSG78PPE_Zo4NsqbgaGOe4Ag5BaN/exec';

function collectAllData() {
  return {
    taxYear: document.getElementById('taxYear').value,
    name: document.getElementById('name').value,
    id_num: document.getElementById('id_num').value,
    phone: document.getElementById('phone').value,
    email: document.getElementById('email').value,
    notes: document.getElementById('generalNotes').value,
    banks: [], // ×›××Ÿ ×ª×•×›×œ ×œ×”×•×¡×™×£ ××ª ×¤×•× ×§×¦×™×™×ª ×”-collectRows ×œ×˜×‘×œ××•×ª × ×•×¡×¤×•×ª
    realEstate: []
  };
}

async function submitForm() {
  const name = document.getElementById('name').value;
  if (!name) return alert('× × ×œ××œ× ×©×');

  document.getElementById('loadingOverlay').classList.add('active');

  try {
    await fetch(SCRIPT_URL, {
      method: 'POST',
      mode: 'no-cors',
      body: JSON.stringify(collectAllData())
    });

    document.getElementById('loadingOverlay').classList.remove('active');
    document.getElementById('section-0').style.display = 'none';
    document.getElementById('successScreen').style.display = 'block';
  } catch (e) {
    alert('×©×’×™××”: ' + e.message);
    document.getElementById('loadingOverlay').classList.remove('active');
  }
}
</script>
</body>
</html>
